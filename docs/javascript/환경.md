# 자바스크립트 환경(JavaScript Environment)

- 자바스크립트 코드가 실행될 때 사용하는 실행 맥락과 이를 둘러싼 모든 요소들을 말합니다.
- 이 환경은 자바스크립트 코드가 어떤 방식으로 실행되고, 변수와 함수가 어떻게 정의되고 접근되는지를 이해하는 데 매우 중요합니다.
- 자바스크립트 환경에는 크게 다음과 같은 개념들이 포함됩니다:

1. 실행 컨텍스트(Execution Context)
2. 렉시컬 환경(Lexical Environment)
3. 호출 스택(Call Stack)
4. 자바스크립트 엔진(JavaScript Engine)
5. 런타임 환경 (브라우저/Node.js)

## 1. 실행 컨텍스트(Execution Context)

- 실행 컨텍스트는 자바스크립트 코드가 실행될 때 생성되는 환경을 나타내며, 변수, 객체, 함수의 스코프 등을 추적하고 관리합니다.
- 실행 컨텍스트는 주로 세 가지 종류로 나눌 수 있습니다.
    - 전역 컨텍스트(Global Execution Context): 코드가 실행되기 시작하면 먼저 생성되는 컨텍스트입니다. 전역 컨텍스트에서는 모든 전역 변수와 전역 함수가 정의됩니다. 애플리케이션에서 하나만
      존재합니다.
    - 함수 컨텍스트(Function Execution Context): 함수가 호출될 때마다 새로운 함수 컨텍스트가 생성됩니다. 이 컨텍스트는 함수 내부의 지역 변수와 매개변수를 관리합니다.
    - Eval 컨텍스트(Eval Execution Context): eval() 함수가 호출될 때 사용되며, 이 함수 내에서 실행된 코드에 대해 생성됩니다.

각 컨텍스트는 세 가지 구성 요소를 포함합니다.

- 변수 객체 (Variable Object): 함수 매개변수, 선언된 변수, 함수 선언 등을 저장.
- 스코프 체인 (Scope Chain): 현재 컨텍스트와 상위 렉시컬 환경에 대한 참조를 포함하여 변수와 함수의 유효 범위를 관리.
- this 바인딩: 현재 컨텍스트에서 this 키워드의 값을 결정합니다.

## 2. 렉시컬 환경(Lexical Environment)

렉시컬 환경은 실행 컨텍스트에서 사용하는 변수와 함수의 유효 범위를 관리하는 내부 구조입니다. 렉시컬 환경은 두 부분으로 나누어집니다.

- 환경 레코드(Environment Record): 변수, 함수 선언 등과 같은 데이터를 저장하는 부분.
- 참조(Outer Environment Reference): 상위 렉시컬 환경을 참조하여 스코프 체인을 형성합니다.

이를 통해 자바스크립트는 중첩 함수에서 상위 스코프에 접근할 수 있습니다.

## 3. 호출 스택(Call Stack)

호출 스택은 실행 컨텍스트를 관리하는 구조로, 현재 어떤 함수가 실행 중인지, 그리고 그 순서가 어떻게 되는지를 추적합니다. 함수가 호출될 때마다 실행 컨텍스트가 호출 스택에 추가(push)되고, 함수 실행이 끝나면
해당 컨텍스트는 스택에서 제거(pop)됩니다.

## 4. 자바스크립트 엔진(JavaScript Engine)

- 자바스크립트 엔진은 자바스크립트 코드를 실행하는 소프트웨어입니다.
- 가장 널리 알려진 엔진은 구글의 V8 엔진으로, Chrome 브라우저와 Node.js에서 사용됩니다.

자바스크립트 엔진은 다음과 같은 과정으로 코드를 실행합니다:

1. 파싱(Parsing): 자바스크립트 코드를 읽어들여 AST(Abstract Syntax Tree)를 만듭니다.
2. 바이트코드 생성(Bytecode Generation): AST를 바탕으로 바이트코드를 생성하고, 이를 최적화하여 실행합니다.
3. JIT 컴파일(Just-In-Time Compilation): 반복 실행되는 코드에 대해 즉시 최적화된 네이티브 코드를 생성합니다.

## 5. 런타임 환경

자바스크립트 코드는 런타임 환경에서 실행되며, 이 환경은 크게 브라우저와 Node.js로 나눌 수 있습니다.
각 환경은 자바스크립트가 어떻게 작동할 수 있는지를 규정짓는 API와 기능들을 제공합니다.

- 브라우저 환경: 브라우저에서 실행되는 자바스크립트는 DOM, BOM (Browser Object Model), window 객체 등과 같은 다양한 API에 접근할 수 있습니다. 브라우저는 자바스크립트를 통해 웹
  페이지의 내용을 변경하거나 사용자의 입력에 반응할 수 있도록 합니다.
- Node.js 환경: Node.js는 서버 측 자바스크립트 실행을 위한 런타임 환경으로, 파일 시스템 접근, 네트워킹 기능, 그리고 기타 서버 측 작업을 할 수 있는 API를 제공합니다. global 객체나
  process 같은 Node.js 고유의 전역 객체들이 사용됩니다.

요약

- 자바스크립트 환경은 자바스크립트 코드가 실행되는 맥락과 실행을 관리하는 다양한 요소로 구성됩니다.
- 실행 컨텍스트는 코드 실행의 기본 단위이며, 렉시컬 환경은 변수와 스코프 체인을 관리합니다.
- 호출 스택은 실행 컨텍스트의 순서를 추적하고,
- 자바스크립트 엔진은 코드의 실행 과정을 최적화합니다.
- 최종적으로 런타임 환경 (브라우저 또는 Node.js)은 자바스크립트 코드가 실제로 작동할 수 있는 기능들을 제공합니다.
- 이를 통해 자바스크립트는 다양한 환경에서 동작하고 상호작용하는 유연한 언어로 자리잡았습니다.
